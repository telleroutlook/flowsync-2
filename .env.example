# Environment Variables Configuration
# ===========================================
#
# This file lists all available environment variables that can be used to configure
# the application without modifying code.
#
# Usage:
# 1. Copy this file to .env for local development
# 2. For Cloudflare Workers production:
#    - Use: wrangler secret put <KEY> <VALUE>
#    - Or add to wrangler.toml [vars] section
#
# Note: All values are optional. If not set, reasonable defaults will be used.

# ============================================================================
# AI Configuration
# ============================================================================

# OpenAI / compatible provider credentials
# Required for AI features
OPENAI_API_KEY=your-openai-api-key
# Optional: override base URL (default: https://api.openai.com/v1)
OPENAI_BASE_URL=https://api.openai.com/v1
# Optional: override model (default: gpt-4)
OPENAI_MODEL=gpt-4

# Maximum number of messages to keep in AI chat history
# Default: 30
AI_MAX_HISTORY_MESSAGES=30

# Maximum characters per history message part
# Default: 2000
AI_MAX_HISTORY_PART_CHARS=2000

# Maximum characters for a single user message
# Default: 4000
AI_MAX_MESSAGE_CHARS=4000

# Maximum characters for system context
# Default: 8000
AI_MAX_SYSTEM_CONTEXT_CHARS=8000

# Maximum characters for tool arguments
# Default: 8000
AI_MAX_TOOL_ARGS_CHARS=8000

# Maximum number of tool calls per AI request
# Default: 30
AI_MAX_TOOL_CALLS=30

# Maximum number of conversational turns
# Default: 5
AI_MAX_TURNS=5

# AI request timeout in milliseconds
# Default: 60000 (60 seconds)
AI_REQUEST_TIMEOUT_MS=60000

# Maximum number of retries for failed AI requests
# Default: 2
AI_MAX_RETRIES=2

# Base delay for retry exponential backoff (in milliseconds)
# Default: 500
AI_BASE_RETRY_DELAY_MS=500

# ============================================================================
# Cache Configuration
# ============================================================================

# Time-to-live for project cache in milliseconds
# Default: 30000 (30 seconds)
PROJECT_CACHE_TTL_MS=30000

# Maximum number of workspace caches to keep in memory
# Default: 50
PROJECT_CACHE_MAX_SIZE=50

# ============================================================================
# Pagination Configuration
# ============================================================================

# Default page size for paginated endpoints
# Default: 100
PAGINATION_DEFAULT_PAGE_SIZE=100

# Maximum page size allowed for paginated endpoints
# Default: 100
PAGINATION_MAX_PAGE_SIZE=100

# ============================================================================
# Rate Limiting Configuration
# ============================================================================

# Maximum auth requests per window
# Default: 5
RATE_LIMIT_AUTH_MAX_REQUESTS=5

# Rate limit window for auth in milliseconds
# Default: 900000 (15 minutes)
RATE_LIMIT_AUTH_WINDOW_MS=900000

# Maximum general requests per window
# Default: 100
RATE_LIMIT_GENERAL_MAX_REQUESTS=100

# Rate limit window for general requests in milliseconds
# Default: 60000 (1 minute)
RATE_LIMIT_GENERAL_WINDOW_MS=60000

# Maximum AI requests per window
# Default: 20
RATE_LIMIT_AI_MAX_REQUESTS=20

# Rate limit window for AI in milliseconds
# Default: 60000 (1 minute)
RATE_LIMIT_AI_WINDOW_MS=60000
